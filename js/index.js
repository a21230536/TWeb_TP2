/*----------------------------------
 TWeb - Content Loading with jQuery
 -----------------------------------*/
(function(a){window.TWeb=function(c){c=c||{};var d=function(a){a=a||{};for(var b in a)if("undefined"!=typeof this[b])this[b](a[b]);return this},b;for(b in a)d[b]=a[b];b={header:0,nav:0,footer:0,aside:0,section:"home"};for(var e in b)if("undefined"!=typeof c[e])d[e](c[e]);else d[e](b[e]);return d};window.onhashchange=function(){a.section()}})({header:function(a){return this._load("header",a)},footer:function(a){return this._load("footer",a)},nav:function(a){return this._load("nav",a)},aside:function(a){return this._load("aside",
    a)},section:function(a){this._section?"undefined"==typeof a?a=location.hash:location.hash=a:a=a||location.hash;this._section=1;this._toggle();return this._load("section."+a.replace("#",""))},article:function(a,c){c=c||a+" selected";var d=$('<article class="'+c+'">').load("content/article."+a+".html");d.appendTo("div.articles");var b=$("section > nav");if(!b.length)return this;b.find("ul").length||$("<ul>").appendTo(b);b=$("<a>").html(a.replace(/\_/g," ")).click(function(){$("div.articles article").removeClass("selected");
    $(this).parent().addClass("selected").siblings().removeClass("selected");d.addClass("selected")});b=$("<li>").append(b);1!=c&&b.addClass("selected");b.appendTo("section > nav > ul");return this},css:function(a){this.header.$.css(a);this.footer.$.css(a);this.aside.$.css(a);this.section.$.css(a);this.nav.$.css(a)},slideshow:function(a){a=a||{};var c=$(a.el+" li");a.n=c.length-1;var d=a.n;setInterval(function(){var b=c[d];$(b).is(":visible")?$(b).fadeOut(1E3):$(b).fadeIn(1500,function(){c.show();d=a.n});
    0==--d&&(d=a.n)},1E3*a.seconds)},_toggle:function(a){a=a||$("a[href=%hash%]".replace("%hash%",location.hash));a=a.parent();a.hasClass("selected")||a.addClass("selected").siblings().removeClass("selected")},_load:function(a,c){c=c||"content/"+a+".html";a.match(/^section/)&&(a="section");this[a].$=$(a).first().load(c);return this[a].$},_section:0});
